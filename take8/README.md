# take7

玉が利きに飛び込むの止めてほしいなあ（＾～＾）  
利きを調べるかな（＾～＾）  
利きテーブル作るか～（＾～＾）  
まず、簡単な指し手は生成したぜ（＾～＾）  

## Test

```plain
position startpos moves 3i3h 4a3b 5i6h 6a5b 4g4f 5a4b 5g5f 4c4d 6g6f 5b4c 6h5i 1c1d 4i3i 2b1c 1g1f 1c4f 3i4h 5c5d 3g3f 4f2h+ 6i7h
pos

[1 -> 22 moves / Second / ? repeats]

  r  b  g  s  n  l  p
+--+--+--+--+--+--+--+
| 1| 0| 0| 0| 0| 0| 1|
+--+--+--+--+--+--+--+

  9  8  7  6  5  4  3  2  1
+--+--+--+--+--+--+--+--+--+
| l| n| s|  |  |  | s| n| l| a
+--+--+--+--+--+--+--+--+--+
|  | r|  |  |  | k| g|  |  | b
+--+--+--+--+--+--+--+--+--+
| p| p| p| p|  | g| p| p|  | c
+--+--+--+--+--+--+--+--+--+
|  |  |  |  | p| p|  |  | p| d
+--+--+--+--+--+--+--+--+--+
|  |  |  |  |  |  |  |  |  | e
+--+--+--+--+--+--+--+--+--+
|  |  |  | P| P|  | P|  | P| f
+--+--+--+--+--+--+--+--+--+
| P| P| P|  |  |  |  | P|  | g
+--+--+--+--+--+--+--+--+--+
|  | B| G|  |  | G| S| b|  | h
+--+--+--+--+--+--+--+--+--+
| L| N| S|  | K|  |  | N| L| i
+--+--+--+--+--+--+--+--+--+

        R  B  G  S  N  L  P
      +--+--+--+--+--+--+--+
      | 0| 0| 0| 0| 0| 0| 0|
      +--+--+--+--+--+--+--+

# 28 にある駒の利きを調べようとするが、そこに駒は無いぜ（＾～＾）
position startpos moves 3i3h 4a3b 5i6h 6a5b 4g4f 5a4b 5g5f 4c4d 6g6f 5b4c 6h5i 1c1d 4i3i 2b1c 1g1f 1c4f 3i4h 5c5d 3g3f 4f2h+ 6i7h 2h1i
go btime 71000 wtime 71000 binc 2000 winc 2000

# 長い利きの駒である 馬 が 1i に動いたとき、角と馬を同一視できてない（＾～＾）？
# PieceType の B には RB は含んでないしな（＾～＾）
```

## Test2

```plain
# 香を１個にして利きの様子を見たろ（＾～＾）
position sfen 4k4/9/9/9/9/9/9/9/4K3L w - 1
```
